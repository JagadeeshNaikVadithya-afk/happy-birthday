<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Happy Birthday My Love üíñ</title>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Cormorant+Garamond:wght@300;400&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Cormorant Garamond', serif;
            overflow-x: hidden;
            background: #000;
        }

        .screen {
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            padding: 20px;
            position: relative;
            opacity: 0;
            animation: fadeIn 1.5s forwards;
        }

        /* Light backgrounds - dark text */
        .gradient-1 .content,
        .gradient-2 .content {
            color: #6B221E;
        }

        .gradient-1 h1, .gradient-1 h2,
        .gradient-2 h1, .gradient-2 h2 {
            color: #953029;
            text-shadow: 0 2px 10px rgba(255, 255, 255, 0.5);
        }

        .gradient-1 p,
        .gradient-2 p {
            color: #7D2823;
            text-shadow: 0 1px 5px rgba(255, 255, 255, 0.3);
        }

        .gradient-1 button,
        .gradient-2 button {
            border: 2px solid #953029;
            color: #953029;
            background: rgba(255, 255, 255, 0.4);
        }

        .gradient-1 button:hover,
        .gradient-2 button:hover {
            background: rgba(255, 255, 255, 0.6);
        }

        /* Medium backgrounds - transitioning text */
        .gradient-3 .content {
            color: #4a1a15;
        }

        .gradient-3 h1, .gradient-3 h2 {
            color: #2a0a08;
            text-shadow: 0 2px 10px rgba(255, 255, 255, 0.4);
        }

        .gradient-3 p {
            color: #3a1410;
            text-shadow: 0 1px 5px rgba(255, 255, 255, 0.3);
        }

        .gradient-3 button {
            border: 2px solid #ffffff;
            color: #2a0a08;
            background: rgba(255, 255, 255, 0.35);
        }

        .gradient-3 button:hover {
            background: rgba(255, 255, 255, 0.5);
        }

        /* Darker backgrounds - light text */
        .gradient-4 .content,
        .gradient-5 .content,
        .gradient-6 .content,
        .gradient-final .content {
            color: white;
        }

        .gradient-4 h1, .gradient-4 h2,
        .gradient-5 h1, .gradient-5 h2,
        .gradient-6 h1, .gradient-6 h2,
        .gradient-final h1, .gradient-final h2 {
            color: white;
            text-shadow: 0 4px 20px rgba(0, 0, 0, 0.4);
        }

        .gradient-4 p,
        .gradient-5 p,
        .gradient-6 p,
        .gradient-final p {
            color: rgba(255, 255, 255, 0.95);
            text-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
        }

        .gradient-4 button,
        .gradient-5 button,
        .gradient-6 button,
        .gradient-final button {
            border: 2px solid white;
            color: white;
            background: rgba(255, 255, 255, 0.15);
        }

        .gradient-4 button:hover,
        .gradient-5 button:hover,
        .gradient-6 button:hover,
        .gradient-final button:hover {
            background: rgba(255, 255, 255, 0.25);
        }

        @keyframes fadeIn {
            to { opacity: 1; }
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-20px); }
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        @keyframes sparkle {
            0%, 100% { opacity: 0; transform: scale(0); }
            50% { opacity: 1; transform: scale(1); }
        }

        /* Background gradients with color progression from lily (lightest) to hibiscus (darkest) */
        .gradient-1 {
            background: linear-gradient(135deg, #FFF8EE 0%, #FFE8D9 50%, #FFF8EE 100%);
        }

        .gradient-2 {
            background: linear-gradient(135deg, #F7DACF 0%, #F0C4B5 50%, #F7DACF 100%);
        }

        .gradient-3 {
            background: linear-gradient(135deg, #E2A48A 0%, #D89576 50%, #E2A48A 100%);
        }

        .gradient-4 {
            background: linear-gradient(135deg, #D6877F 0%, #CC7570 50%, #D6877F 100%);
        }

        .gradient-5 {
            background: linear-gradient(135deg, #BA5448 0%, #A84A3E 50%, #BA5448 100%);
        }
        
        .gradient-6 {
            background: linear-gradient(135deg, #A84A3E 0%, #9A4237 50%, #A84A3E 100%);
        }

        .gradient-final {
            background: radial-gradient(ellipse at center, #953029 0%, #7D2823 70%, #6B221E 100%);
        }

        /* Hearts floating in background */
        .hearts {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
            pointer-events: none;
            z-index: 0;
        }

        .heart {
            position: absolute;
            color: rgba(255, 50, 80, 0.7);
            font-size: 50px;
            animation: floatUp 15s infinite;
        }
        
        .intro-heart {
            font-size: 70px;
            color: rgba(255, 30, 60, 0.8);
        }

        @keyframes floatUp {
            0% {
                transform: translateY(100vh) rotate(0deg);
                opacity: 0;
            }
            10% {
                opacity: 0.6;
            }
            90% {
                opacity: 0.6;
            }
            100% {
                transform: translateY(-100vh) rotate(360deg);
                opacity: 0;
            }
        }

        .content {
            position: relative;
            z-index: 10;
            text-align: center;
            max-width: 800px;
        }

        h1 {
            font-family: 'Playfair Display', serif;
            font-size: 3.5rem;
            margin-bottom: 20px;
            animation: float 3s ease-in-out infinite;
        }

        h2 {
            font-family: 'Playfair Display', serif;
            font-size: 2.5rem;
            margin-bottom: 30px;
        }

        p {
            font-size: 1.4rem;
            line-height: 1.8;
            margin: 20px 0;
            font-weight: 300;
        }

        .photo-container {
            width: 350px;
            height: 350px;
            margin: 30px auto;
            border-radius: 50%;
            overflow: hidden;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.4);
            animation: pulse 3s ease-in-out infinite;
            background: rgba(255, 255, 255, 0.1);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* Light background photo containers */
        .gradient-1 .photo-container,
        .gradient-2 .photo-container,
        .gradient-3 .photo-container {
            border: 5px solid rgba(149, 48, 41, 0.4);
        }

        /* Dark background photo containers */
        .gradient-4 .photo-container,
        .gradient-5 .photo-container,
        .gradient-6 .photo-container,
        .gradient-final .photo-container {
            border: 5px solid rgba(255, 255, 255, 0.5);
        }

        .photo-container img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .placeholder-photo {
            font-size: 1.2rem;
            text-align: center;
            padding: 20px;
            opacity: 0.8;
        }

        button {
            font-family: 'Cormorant Garamond', serif;
            font-size: 1.3rem;
            padding: 15px 50px;
            margin: 30px 10px;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.2);
            position: relative;
            overflow: hidden;
        }

        button:before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.3);
            transform: translate(-50%, -50%);
            transition: width 0.6s, height 0.6s;
        }

        button:hover:before {
            width: 300px;
            height: 300px;
        }

        button:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 30px rgba(0, 0, 0, 0.3);
            background: rgba(255, 255, 255, 0.25);
        }

        button span {
            position: relative;
            z-index: 1;
        }

        .hidden {
            display: none;
        }

        .message-box {
            padding: 40px;
            border-radius: 20px;
            backdrop-filter: blur(15px);
            margin: 20px auto;
            max-width: 700px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.4);
        }

        /* Light background message boxes */
        .gradient-1 .message-box,
        .gradient-2 .message-box,
        .gradient-3 .message-box {
            background: rgba(255, 255, 255, 0.4);
            border: 2px solid rgba(149, 48, 41, 0.3);
        }

        /* Dark background message boxes */
        .gradient-4 .message-box,
        .gradient-5 .message-box,
        .gradient-6 .message-box,
        .gradient-final .message-box {
            background: rgba(0, 0, 0, 0.3);
            border: 2px solid rgba(255, 255, 255, 0.3);
        }

        .sparkles {
            position: absolute;
            width: 100%;
            height: 100%;
            pointer-events: none;
        }

        .sparkle {
            position: absolute;
            width: 4px;
            height: 4px;
            background: white;
            border-radius: 50%;
            animation: sparkle 2s infinite;
        }

        .final-screen {
            position: relative;
        }

        .firework {
            position: absolute;
            width: 4px;
            height: 4px;
            background: white;
            border-radius: 50%;
        }

        @keyframes explode {
            0% {
                opacity: 1;
                transform: translate(0, 0);
            }
            100% {
                opacity: 0;
            }
        }

        .confetti {
            position: absolute;
            width: 10px;
            height: 10px;
            background: #fff;
        }

        @keyframes confettiFall {
            0% {
                transform: translateY(-100vh) rotate(0deg);
                opacity: 1;
            }
            100% {
                transform: translateY(100vh) rotate(720deg);
                opacity: 0;
            }
        }

        .cupcake {
            position: absolute;
            font-size: 40px;
            animation: floatUpCupcake 12s infinite;
            opacity: 0;
        }

        @keyframes floatUpCupcake {
            0% {
                transform: translateY(100vh) rotate(0deg) scale(1);
                opacity: 0;
            }
            10% {
                opacity: 0.9;
            }
            50% {
                transform: translateY(50vh) rotate(180deg) scale(1.2);
                opacity: 0.9;
            }
            90% {
                opacity: 0.9;
            }
            100% {
                transform: translateY(-100vh) rotate(360deg) scale(1);
                opacity: 0;
            }
        }

        .birthday-text {
            position: absolute;
            font-family: 'Playfair Display', serif;
            font-size: 28px;
            font-weight: 700;
            color: rgba(255, 255, 255, 0.4);
            animation: floatUpText 15s infinite;
            opacity: 0;
            text-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
        }

        @keyframes floatUpText {
            0% {
                transform: translateY(100vh) rotate(-5deg);
                opacity: 0;
            }
            10% {
                opacity: 0.6;
            }
            50% {
                transform: translateY(50vh) rotate(5deg);
                opacity: 0.6;
            }
            90% {
                opacity: 0.6;
            }
            100% {
                transform: translateY(-100vh) rotate(-5deg);
                opacity: 0;
            }
        }

        .music-note {
            position: fixed;
            bottom: 20px;
            right: 20px;
            font-size: 2rem;
            color: white;
            opacity: 0.8;
            animation: float 2s ease-in-out infinite;
            z-index: 1000;
            cursor: pointer;
            text-shadow: 0 2px 10px rgba(0, 0, 0, 0.5);
            background: rgba(0, 0, 0, 0.3);
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            backdrop-filter: blur(10px);
        }

        @media (max-width: 768px) {
            h1 { font-size: 2.5rem; }
            h2 { font-size: 2rem; }
            p { font-size: 1.2rem; }
            .photo-container { 
                width: 280px; 
                height: 280px; 
            }
            button { 
                font-size: 1.1rem; 
                padding: 12px 35px; 
            }
            .message-box { padding: 25px; }
            
            /* Fix background image on mobile for secret screen */
            #screen-secret {
                background-attachment: scroll !important;
                background-size: cover !important;
                background-position: center center !important;
            }
            
            #screen-secret .content {
                padding: 20px;
            }
            
            #wait-message {
                font-size: 2rem !important;
            }
            
            #typing-container p {
                font-size: 1.4rem !important;
                line-height: 1.8 !important;
            }
            
            #final-love-message h1 {
                font-size: 3rem !important;
            }
            
            #final-love-message h1 span {
                font-size: 2rem !important;
            }
        }
    </style>
</head>
<body>
    <!-- Background Music -->
    <div class="music-note" onclick="toggleMusic()" title="Toggle Music">üéµ</div>
    
    <!-- Intro Screen - Sweet Opening -->
    <div id="screen-intro" class="screen gradient-1">
        <div class="hearts">
            <div class="heart intro-heart" style="left: 10%; animation-delay: 0s;">‚ù§Ô∏è</div>
            <div class="heart intro-heart" style="left: 30%; animation-delay: 2s;">‚ù§Ô∏è</div>
            <div class="heart intro-heart" style="left: 50%; animation-delay: 4s;">‚ù§Ô∏è</div>
            <div class="heart intro-heart" style="left: 70%; animation-delay: 6s;">‚ù§Ô∏è</div>
            <div class="heart intro-heart" style="left: 90%; animation-delay: 8s;">‚ù§Ô∏è</div>
        </div>
        <div class="content">
            <h1>To My Beautiful Wife üíñ</h1>
            <p style="font-size: 1.6rem; margin: 40px 0;">
                Today is your special day...<br>
                And I've created something just for you.<br><br>
                But first, I have a very important question... üòä
            </p>
            <button onclick="nextScreen('playful')">
                <span>What's the Question? ‚ú®</span>
            </button>
        </div>
    </div>

    <!-- Playful "No" Button Game Screen -->
    <div id="screen-playful" class="screen gradient-2 hidden">
        <div class="hearts">
            <div class="heart intro-heart" style="left: 15%; animation-delay: 1s;">‚ù§Ô∏è</div>
            <div class="heart intro-heart" style="left: 45%; animation-delay: 3s;">‚ù§Ô∏è</div>
            <div class="heart intro-heart" style="left: 75%; animation-delay: 5s;">‚ù§Ô∏è</div>
        </div>
        <div class="content">
            <h1 id="intro-question">Are you the most amazing wife in the world? üíñ</h1>
            <p style="font-size: 1.6rem; margin: 40px 0;" id="intro-subtitle">
                (I already know the answer... but humor me üòä)
            </p>
            <div>
                <button id="yes-btn" onclick="sayYes()">
                    <span id="yes-text">Yes, Obviously! üíï</span>
                </button>
                <button id="no-btn" onmouseover="moveNoButton()">
                    <span>No</span>
                </button>
            </div>
            <p style="font-size: 1.2rem; margin-top: 30px; opacity: 0.9;" id="attempt-counter"></p>
        </div>
    </div>

    <!-- Screen 1: Photo & Memory -->
    <div id="screen-1" class="screen gradient-3 hidden">
        <div class="hearts">
            <div class="heart" style="left: 15%; animation-delay: 1s;">üíñ</div>
            <div class="heart" style="left: 45%; animation-delay: 3s;">üíï</div>
            <div class="heart" style="left: 75%; animation-delay: 5s;">üíó</div>
        </div>
        <div class="content">
            <h2>Every Moment With You üå∏</h2>
            <div class="photo-container">
                <img src="photo1.jpg" alt="Our Memory">
            </div>
            <div class="message-box">
                <p>
                    Every day with you feels like a gift, but today I'm especially grateful for you. 
                    You bring warmth to my life, strength to my heart, and joy to even the simplest moments.
                </p>
            </div>
            <button onclick="nextScreen(2)">
                <span>Continue üíï</span>
            </button>
        </div>
    </div>

    <!-- Screen 2: Photo & Memory -->
    <div id="screen-2" class="screen gradient-4 hidden">
        <div class="hearts">
            <div class="heart" style="left: 20%; animation-delay: 0s;">üíù</div>
            <div class="heart" style="left: 50%; animation-delay: 2s;">üíñ</div>
            <div class="heart" style="left: 80%; animation-delay: 4s;">üíï</div>
        </div>
        <div class="content">
            <h2>Your Smile, My World üåπ</h2>
            <div class="photo-container">
                <img src="photo2.jpg" alt="Our Memory">
            </div>
            <div class="message-box">
                <p>
                    Your smile still makes my world brighter, and your love still feels like home.
                    Thank you for being my partner, my best friend, and my biggest blessing.
                </p>
            </div>
            <button onclick="nextScreen(3)">
                <span>Continue üíó</span>
            </button>
        </div>
    </div>

    <!-- Screen 3: Photo & Memory -->
    <div id="screen-3" class="screen gradient-5 hidden">
        <div class="hearts">
            <div class="heart" style="left: 25%; animation-delay: 1s;">üíñ</div>
            <div class="heart" style="left: 55%; animation-delay: 3s;">üíù</div>
            <div class="heart" style="left: 85%; animation-delay: 5s;">üíï</div>
        </div>
        <div class="content">
            <h2>My Forever Blessing ‚ú®</h2>
            <div class="photo-container">
                <img src="photo3.jpg" alt="Our Memory">
            </div>
            <div class="message-box">
                <p>
                    I admire your kindness, your courage, and the beautiful soul that you are. 
                    Growing through life with you by my side has been the greatest journey of my life.
                </p>
            </div>
            <button onclick="nextScreen(4)">
                <span>Continue üåü</span>
            </button>
        </div>
    </div>

    <!-- Screen 4: Photo & Memory (Optional - you can add 2 more) -->
    <div id="screen-4" class="screen gradient-6 hidden">
        <div class="hearts">
            <div class="heart" style="left: 10%; animation-delay: 0s;">üíó</div>
            <div class="heart" style="left: 40%; animation-delay: 2s;">üíñ</div>
            <div class="heart" style="left: 70%; animation-delay: 4s;">üíù</div>
        </div>
        <div class="content">
            <h2>Together, Always üíë</h2>
            <div class="photo-container">
                <img src="photo4.jpg" alt="Our Memory">
            </div>
            <div class="message-box">
                <p>
                    May this year bring you as much happiness as you bring into my world every single day.
                </p>
            </div>
            <button onclick="nextScreen(5)">
                <span>Almost There üí´</span>
            </button>
        </div>
    </div>

    <!-- Final Screen: Birthday Wish -->
    <div id="screen-final" class="screen gradient-final hidden final-screen">
        <div class="sparkles" id="sparkles-container"></div>
        
        <!-- Floating Cupcakes -->
        <div class="cupcake" style="left: 5%; animation-delay: 0s;">üßÅ</div>
        <div class="cupcake" style="left: 15%; animation-delay: 2s;">üßÅ</div>
        <div class="cupcake" style="left: 25%; animation-delay: 4s;">üßÅ</div>
        <div class="cupcake" style="left: 35%; animation-delay: 1s;">üßÅ</div>
        <div class="cupcake" style="left: 45%; animation-delay: 3s;">üßÅ</div>
        <div class="cupcake" style="left: 55%; animation-delay: 5s;">üßÅ</div>
        <div class="cupcake" style="left: 65%; animation-delay: 2.5s;">üßÅ</div>
        <div class="cupcake" style="left: 75%; animation-delay: 4.5s;">üßÅ</div>
        <div class="cupcake" style="left: 85%; animation-delay: 1.5s;">üßÅ</div>
        <div class="cupcake" style="left: 95%; animation-delay: 3.5s;">üßÅ</div>
        
        <!-- Floating "Happy Birthday" Text -->
        <div class="birthday-text" style="left: 10%; animation-delay: 0s;">Happy Birthday</div>
        <div class="birthday-text" style="left: 30%; animation-delay: 3s;">Happy Birthday</div>
        <div class="birthday-text" style="left: 50%; animation-delay: 6s;">Happy Birthday</div>
        <div class="birthday-text" style="left: 70%; animation-delay: 9s;">Happy Birthday</div>
        <div class="birthday-text" style="left: 90%; animation-delay: 12s;">Happy Birthday</div>
        <div class="birthday-text" style="left: 20%; animation-delay: 4.5s;">Happy Birthday</div>
        <div class="birthday-text" style="left: 60%; animation-delay: 7.5s;">Happy Birthday</div>
        <div class="birthday-text" style="left: 80%; animation-delay: 10.5s;">Happy Birthday</div>
        
        <div class="hearts">
            <div class="heart" style="left: 5%; animation-delay: 0s;">üíñ</div>
            <div class="heart" style="left: 25%; animation-delay: 1s;">üíï</div>
            <div class="heart" style="left: 45%; animation-delay: 2s;">üíó</div>
            <div class="heart" style="left: 65%; animation-delay: 3s;">üíù</div>
            <div class="heart" style="left: 85%; animation-delay: 4s;">üíñ</div>
            <div class="heart" style="left: 15%; animation-delay: 5s;">üíï</div>
            <div class="heart" style="left: 75%; animation-delay: 6s;">üíó</div>
        </div>
        <div class="content">
            <h1 style="font-size: 4rem; margin-bottom: 40px;">
                Happy Birthday, My Forever üéÇ‚ú®
            </h1>
            <div class="message-box" style="font-size: 1.5rem;">
                <p>
                    I promise to keep loving you, supporting you, and choosing you‚Äî<br>
                    <strong>today, tomorrow, and always.</strong>
                </p>
                <p style="margin-top: 30px; font-size: 1.8rem;">
                    You are my everything. üíñ
                </p>
                <p style="margin-top: 40px; font-size: 1.3rem; font-style: italic;">
                    Forever yours,<br>
                    Your Husband üíï
                </p>
                <p style="margin-top: 50px; font-size: 1.4rem; border-top: 2px solid rgba(255,255,255,0.3); padding-top: 30px;">
                    That's everything I wanted to tell you today üíñ<br>
                    Thank you for being you.
                </p>
            </div>
            <button onclick="showSecretScreen()" style="margin-top: 20px;">
                <span>Finish ‚ú®</span>
            </button>
        </div>
    </div>

    <!-- Secret Final Screen with Typing Effect -->
    <div id="screen-secret" class="screen hidden" style="background: linear-gradient(135deg, #FFF5E6 0%, #FFE8D9 50%, #FFF5E6 100%); min-height: 100vh; position: relative; transition: background 1s ease;">
        <div id="secret-overlay" style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: transparent; z-index: 1; pointer-events: none; transition: background 1s ease;"></div>
        
        <div class="content" style="z-index: 10; position: relative; min-height: 100vh; display: flex; flex-direction: column; justify-content: center; align-items: center; padding: 40px 20px;">
            <!-- Wait message -->
            <h1 id="wait-message" style="font-size: 3rem; color: #953029; opacity: 0; transition: opacity 1s; text-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);">
                Wait‚Ä¶ one more thing. ‚ú®
            </h1>
            
            <!-- Typing quotes container -->
            <div id="typing-container" style="margin-top: 50px; opacity: 0; transition: opacity 2s; max-width: 90%; width: 100%;">
                <p id="quote-1" style="font-size: 1.6rem; color: #8B2F4D; line-height: 2; margin-bottom: 40px; text-shadow: 0 2px 6px rgba(255, 255, 255, 0.8); font-weight: 400;"></p>
                <p id="quote-2" style="font-size: 1.6rem; color: #8B2F4D; line-height: 2; margin-bottom: 40px; text-shadow: 0 2px 6px rgba(255, 255, 255, 0.8); font-weight: 400;"></p>
                <p id="quote-3" style="font-size: 1.6rem; color: #8B2F4D; line-height: 2; text-shadow: 0 2px 6px rgba(255, 255, 255, 0.8); font-weight: 400;"></p>
            </div>
            
            <!-- Final romantic message -->
            <div id="final-love-message" style="opacity: 0; transition: opacity 2s; margin-top: 80px;">
                <h1 style="font-family: 'Playfair Display', serif; font-size: 4.5rem; color: #FFD700; text-shadow: 0 4px 20px rgba(0, 0, 0, 0.9), 0 0 30px rgba(255, 215, 0, 0.3); font-style: italic; animation: pulse 2s ease-in-out infinite;">
                    Love you D ‚ù§Ô∏è<br>
                    <span style="font-size: 2.8rem; display: block; margin-top: 20px; color: #FFEAA7;">from your J</span>
                </h1>
            </div>
        </div>
    </div>

    <script>
        let currentScreen = 0;
        let musicPlaying = false;
        let audioElement = null;
        let noButtonAttempts = 0;

        const funnyMessages = [
            "Wait... try again! üòÑ",
            "Come on, we both know the truth! üòä",
            "The 'No' button is being shy... üôà",
            "Nice try! But you can't click it! üòÇ",
            "I won't let you lie! üíï",
            "Stop chasing it and just say YES! üòÜ",
            "This button has commitment issues! üòÖ",
            "You're making the button nervous! üíó",
            "Almost got it... NOT! üòú",
            "Give up and admit I'm right! üíñ"
        ];

        // Move the No button away
        function moveNoButton() {
            const button = document.getElementById("no-btn");
            const maxX = window.innerWidth - 150;
            const maxY = window.innerHeight - 80;
            
            const x = Math.random() * maxX;
            const y = Math.random() * maxY;
            
            button.style.position = 'fixed';
            button.style.left = x + "px";
            button.style.top = y + "px";
            button.style.transition = 'all 0.3s ease';
            
            noButtonAttempts++;
            
            // Show funny messages
            if (noButtonAttempts <= funnyMessages.length) {
                document.getElementById("attempt-counter").textContent = funnyMessages[noButtonAttempts - 1];
            }
            
            // Make Yes button bigger each time
            const yesBtn = document.getElementById("yes-btn");
            const currentSize = 1 + (noButtonAttempts * 0.1);
            yesBtn.style.transform = `scale(${currentSize})`;
            yesBtn.style.transition = 'all 0.3s ease';
            
            // After 5 attempts, change the Yes button text
            if (noButtonAttempts === 5) {
                document.getElementById("yes-text").textContent = "Just Click Me Already! üíñ";
            }
            if (noButtonAttempts === 8) {
                document.getElementById("yes-text").textContent = "You Know You Want To! üòç";
            }
        }

        // When Yes is clicked
        function sayYes() {
            // Celebration animation
            document.getElementById("intro-question").innerHTML = "YESSS! I KNEW IT! üéâ";
            document.getElementById("intro-subtitle").innerHTML = "Now let me show you something special... üíù";
            document.getElementById("yes-btn").style.display = "none";
            document.getElementById("no-btn").style.display = "none";
            document.getElementById("attempt-counter").style.display = "none";
            
            // Create mini fireworks
            for (let i = 0; i < 20; i++) {
                setTimeout(() => {
                    const x = Math.random() * window.innerWidth;
                    const y = Math.random() * window.innerHeight * 0.5;
                    createFirework(x, y);
                }, i * 100);
            }
            
            // Wait 3 seconds then move to screen 1
            setTimeout(() => {
                nextScreen(1);
            }, 3000);
        }

        // Initialize audio element
        function initAudio() {
            if (!audioElement) {
                audioElement = document.createElement('audio');
                audioElement.id = 'background-music';
                audioElement.loop = true;
                audioElement.volume = 0.5;
                // Note: YouTube links can't be used directly in audio tags
                // You'll need to download the audio or use a direct audio file URL
                // For now, using a placeholder - replace with actual audio file
                audioElement.src = 'your-song.mp3'; // Replace with your audio file
                document.body.appendChild(audioElement);
            }
        }

        // Create sparkles effect
        function createSparkles() {
            const container = document.getElementById('sparkles-container');
            for (let i = 0; i < 50; i++) {
                const sparkle = document.createElement('div');
                sparkle.className = 'sparkle';
                sparkle.style.left = Math.random() * 100 + '%';
                sparkle.style.top = Math.random() * 100 + '%';
                sparkle.style.animationDelay = Math.random() * 2 + 's';
                container.appendChild(sparkle);
            }
        }

        // Create confetti effect
        function createConfetti() {
            const colors = ['#ff6b9d', '#ffa8c5', '#fff', '#ff85a6', '#ffb3c6', '#ffd700', '#ff1493'];
            const finalScreen = document.getElementById('screen-final');
            
            for (let i = 0; i < 150; i++) {
                const confetti = document.createElement('div');
                confetti.className = 'confetti';
                confetti.style.left = Math.random() * 100 + '%';
                confetti.style.top = '-10px';
                confetti.style.width = (Math.random() * 10 + 5) + 'px';
                confetti.style.height = (Math.random() * 10 + 5) + 'px';
                confetti.style.background = colors[Math.floor(Math.random() * colors.length)];
                confetti.style.animation = `confettiFall ${Math.random() * 3 + 2}s linear forwards`;
                confetti.style.animationDelay = Math.random() * 0.5 + 's';
                finalScreen.appendChild(confetti);
                
                setTimeout(() => confetti.remove(), 5000);
            }
        }

        // Create firework effect
        function createFirework(x, y) {
            const colors = ['#fff', '#ffb3c6', '#ff85a6', '#ff6b9d', '#ffd700', '#ff1493'];
            let target;
            
            if (currentScreen === 'playful') {
                target = document.getElementById('screen-playful');
            } else if (currentScreen === 5) {
                target = document.getElementById('screen-final');
            } else {
                target = document.body;
            }
            
            for (let i = 0; i < 30; i++) {
                const firework = document.createElement('div');
                firework.className = 'firework';
                firework.style.left = x + 'px';
                firework.style.top = y + 'px';
                firework.style.background = colors[Math.floor(Math.random() * colors.length)];
                
                const angle = (Math.PI * 2 * i) / 30;
                const velocity = 100 + Math.random() * 100;
                const tx = Math.cos(angle) * velocity;
                const ty = Math.sin(angle) * velocity;
                
                firework.style.animation = `explode 1s ease-out forwards`;
                firework.style.transform = `translate(${tx}px, ${ty}px)`;
                
                target.appendChild(firework);
                
                setTimeout(() => firework.remove(), 1000);
            }
        }

        // Automatic fireworks at random positions
        function autoFireworks() {
            const positions = [
                { x: window.innerWidth * 0.2, y: window.innerHeight * 0.3 },
                { x: window.innerWidth * 0.5, y: window.innerHeight * 0.2 },
                { x: window.innerWidth * 0.8, y: window.innerHeight * 0.3 },
                { x: window.innerWidth * 0.3, y: window.innerHeight * 0.5 },
                { x: window.innerWidth * 0.7, y: window.innerHeight * 0.5 }
            ];
            
            positions.forEach((pos, index) => {
                setTimeout(() => createFirework(pos.x, pos.y), index * 400);
            });
        }

        // Navigate between screens
        function nextScreen(screenNum) {
            // Hide current screen
            if (currentScreen === 0) {
                document.getElementById('screen-intro').classList.add('hidden');
            } else if (currentScreen === 'playful') {
                document.getElementById('screen-playful').classList.add('hidden');
            } else {
                document.getElementById(`screen-${currentScreen}`).classList.add('hidden');
            }

            // Show next screen
            if (screenNum === 'playful') {
                document.getElementById('screen-playful').classList.remove('hidden');
                currentScreen = 'playful';
            } else if (screenNum === 5) {
                document.getElementById('screen-final').classList.remove('hidden');
                createSparkles();
                
                // Immediate confetti blast
                setTimeout(() => createConfetti(), 100);
                
                // Automatic fireworks sequence
                setTimeout(() => autoFireworks(), 500);
                
                // Repeat fireworks every 5 seconds
                setInterval(() => autoFireworks(), 5000);
                
                // Auto-play music on final screen if not playing
                if (!musicPlaying) {
                    toggleMusic();
                }
                
                // Also allow manual fireworks on click
                document.getElementById('screen-final').addEventListener('click', function(e) {
                    createFirework(e.clientX, e.clientY);
                });
                currentScreen = screenNum;
            } else {
                document.getElementById(`screen-${screenNum}`).classList.remove('hidden');
                currentScreen = screenNum;
            }

            window.scrollTo(0, 0);
        }

        // Music control
        function toggleMusic() {
            initAudio();
            
            if (musicPlaying) {
                audioElement.pause();
                musicPlaying = false;
            } else {
                audioElement.play().catch(err => {
                    console.log('Audio play failed:', err);
                    // Browsers require user interaction before playing audio
                });
                musicPlaying = true;
            }
        }

        // Typing animation function
        function typeText(elementId, text, speed, callback) {
            const element = document.getElementById(elementId);
            let i = 0;
            element.textContent = '';
            
            function type() {
                if (i < text.length) {
                    element.textContent += text.charAt(i);
                    i++;
                    setTimeout(type, speed);
                } else if (callback) {
                    setTimeout(callback, 1000); // Wait 1 second before next quote
                }
            }
            
            type();
        }

        // Show secret screen with typing effect
        function showSecretScreen() {
            // Fade out final screen
            document.getElementById('screen-final').style.transition = 'opacity 1.5s';
            document.getElementById('screen-final').style.opacity = '0';
            
            setTimeout(() => {
                document.getElementById('screen-final').classList.add('hidden');
                document.getElementById('screen-secret').classList.remove('hidden');
                
                // Show "Wait... one more thing" message on blank screen
                setTimeout(() => {
                    document.getElementById('wait-message').style.opacity = '1';
                    
                    // After wait message, start typing quotes with background image
                    setTimeout(() => {
                        document.getElementById('wait-message').style.opacity = '0';
                        
                        setTimeout(() => {
                            document.getElementById('wait-message').style.display = 'none';
                            
                            // Change background to quote image
                            const secretScreen = document.getElementById('screen-secret');
                            secretScreen.style.backgroundImage = 'url("quote-background.jpg")';
                            secretScreen.style.backgroundSize = 'cover';
                            secretScreen.style.backgroundPosition = 'center center';
                            secretScreen.style.backgroundRepeat = 'no-repeat';
                            secretScreen.style.backgroundAttachment = 'fixed';
                            
                            // Show typing container
                            document.getElementById('typing-container').style.opacity = '1';
                            
                            // Quote 1
                            const quote1 = "I don't always say this out loud, but you are the safest place I've ever known. When the world is loud, you make it quiet. When I'm unsure, you make me steady. Loving you feels like coming home ‚Äî every single day.";
                            
                            // Quote 2
                            const quote2 = "No matter how many birthdays pass, no matter where life takes us, I choose you ‚Äî today, tomorrow, and always.";
                            
                            // Quote 3
                            const quote3 = "One year from now, we are still laughing at the same silly things, still choosing each other on the hard days, and still finding comfort in the way we hold hands ‚Äî like the world makes sense when we're together.";
                            
                            // Start typing animations (50ms per character)
                            typeText('quote-1', quote1, 50, () => {
                                typeText('quote-2', quote2, 50, () => {
                                    typeText('quote-3', quote3, 50, () => {
                                        // After all quotes are done, wait 3 seconds then fade out and change to wedding photo
                                        setTimeout(() => {
                                            document.getElementById('typing-container').style.opacity = '0';
                                            
                                            // Wait for fade out, then change background to wedding photo and show final message
                                            setTimeout(() => {
                                                document.getElementById('typing-container').style.display = 'none';
                                                
                                                // Change background to wedding photo
                                                secretScreen.style.backgroundImage = 'url("background.jpg")';
                                                secretScreen.style.transition = 'background-image 1s ease';
                                                
                                                // Update overlay for wedding photo
                                                document.getElementById('secret-overlay').style.background = 'rgba(40, 30, 20, 0.65)';
                                                
                                                // Show final love message
                                                setTimeout(() => {
                                                    document.getElementById('final-love-message').style.opacity = '1';
                                                }, 500);
                                            }, 2000);
                                            
                                        }, 3000);
                                    });
                                });
                            });
                            
                        }, 1000);
                        
                    }, 3000); // Show "Wait..." for 3 seconds
                    
                }, 500);
            }, 1500);
        }

        // Initialize on page load
        window.addEventListener('load', () => {
            initAudio();
        });
    </script>
</body>
</html>